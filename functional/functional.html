<!DOCTYPE html>
<html>
<style>
</style>
<body>
  <br>Reduce</br>
  <script>
    const euros = [29.76, 41.85, 6, 46.5]
    const sum = euros.reduce((total, amount) => total + amount)
    console.log(sum)

    const average = euros.reduce((total, amount, index, array) => {
      total += amount
      if (index === array.length - 1) {
        return total / array.length
      } else {
        return total
      }
    })
    console.log(average)

    const average2 = euros.reduce((total, amount, index, array) => {
      total + amount
      return total + amount / array.length
    }, 0)
    console.log(average2)

    const double = euros.reduce((total, amount) => {
      total.push(amount * 2)
      return total
    }, [])

    console.log(double)

    const above30 = euros.reduce((total, amount) => {
      if (amount > 30) {
        total.push(amount)
      }
      return total
    }, [])

    console.log(above30)

    const fruitBasket = ['banana', 'cherry', 'orange', 'apple', 'cherry', 'orange', 'apple', 'banana', 'cherry', 'orange', 'fig'];
    const count = fruitBasket.reduce((tally, fruit) => {
      tally[fruit] = (tally[fruit] || 0) + 1
      return tally
    }, {})

    console.log(count)

    const data = [[1, 2, 3], [4, 5, 6], [7, 8, 9]];
    const flat = data.reduce((total, amount) => {
      return total.concat(amount)
    }, [])

    console.log(flat)

    const data2 = [
      { a: 'happy', b: 'robin', c: ['blue', 'green'] },
      { a: 'tired', b: 'panther', c: ['green', 'black', 'orange', 'blue'] },
      { a: 'sad', b: 'goldfish', c: ['green', 'red'] }
    ];

    const colors = data2.reduce((total, amount) => {
      amount.c.forEach(color => {
        if(total.indexOf(color) === -1){
          total.push(color)
        }
      })
      return total;
    }, [])

    console.log(colors)

    function increment(input) { return input + 1}
    function decrement(input) { return input -1 }
    function doubleTheNumber(input) { return input * 2}
    function halve(input) { return input/2}

    const pipleline = [increment, decrement, doubleTheNumber]
    const result = pipleline.reduce((total, func)=> {
      return func(total)
    }, 1)

    console.log(result)

  </script>
</body>

</html>